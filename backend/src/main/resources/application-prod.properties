# Production Configuration (Cloud Run)
# Removed import because application.properties is git-ignored and not in Docker

# --- JWT Configuration (Fix for Cloud Run) ---
# Map env vars to the properties expected by JwtUtils
# Access Token: 1 hour (3600000ms) - short for security, refreshed automatically
# Refresh Token: 30 days (2592000000ms) - long-term session persistence
taivilla.app.jwtSecret=${JWT_SECRET}
taivilla.app.jwtExpirationMs=${JWT_EXPIRATION_MS:3600000}
taivilla.app.jwtRefreshExpirationMs=${JWT_REFRESH_EXPIRATION_MS:2592000000}

# --- Cloudinary Configuration ---
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME:}
cloudinary.api-key=${CLOUDINARY_API_KEY:}
cloudinary.api-secret=${CLOUDINARY_API_SECRET:}

# --- Telegram Configuration ---
telegram.bot.token=${TELEGRAM_BOT_TOKEN:}
telegram.chat.id=${TELEGRAM_CHAT_ID:}

# Database connection injected via Environment Variables

# --- JPA / Hibernate ---
# Dangerous: update (NOT RECOMMENDED with Flyway)
# Safe: validate (Verify schema matches code)
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# --- Flyway (Database Migration) ---
# Enabled by default in Spring Boot if dependency exists
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# --- Others ---
logging.level.root=INFO
logging.level.com.taivillavungtau=INFO

springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# --- Misc Configuration (Copied from local application.properties) ---
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.jackson.mapper.accept-case-insensitive-enums=true

# --- Redis Cache (Docker Compose provides Redis) ---
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.key-prefix=taivilla::
