# Test Profile Configuration
# This profile is specifically for integration tests

# H2 In-Memory Database
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# JPA Configuration
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.flyway.enabled=false

# Disable External Services
spring.data.redis.repositories.enabled=false
spring.cache.type=none
spring.websocket.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

# Fast JWT for Testing
taivilla.app.jwtSecret=testSecretKeyForJunitTestingMustBeLongEnoughForHS512Algorithm
taivilla.app.jwtExpirationMs=60000
taivilla.app.jwtRefreshExpirationMs=120000

# Mock External Services
cloudinary.cloud-name=test-cloud
cloudinary.api-key=test-key
cloudinary.api-secret=test-secret
telegram.bot.token=test-bot-token
telegram.chat.id=test-chat-id

# Logging
logging.level.root=WARN
logging.level.com.taivillavungtau.backend=INFO
logging.level.org.springframework.test=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
